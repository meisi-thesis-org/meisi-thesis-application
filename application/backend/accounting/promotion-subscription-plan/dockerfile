FROM node:18

RUN apt-get update && apt-get install -y --no-install-recommends apt-utils

WORKDIR /usr/src/app

COPY application/backend/accounting/promotion-subscription-plan/package.json application/backend/accounting/promotion-subscription-plan/yarn.lock ./
RUN yarn install --frozen-lockfile

COPY . .

RUN cd application/backend/accounting/promotion-subscription-plan && yarn build

EXPOSE 8012

CMD ["yarn","start"]